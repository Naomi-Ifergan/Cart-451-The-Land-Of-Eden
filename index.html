<!DOCTYPE html>
<html lang="en">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The land of Eden</title>
  <!-- Stylesheet -->
  <link rel="stylesheet" href="style.css" />
  <!--Scripts-->
  <script src="script.js"></script>
  <script src="https://code.jquery.com/jquery-3.5.0.js"></script>


  <style>
    body {

      background: url('images/background.jpg') no-repeat center center fixed;
      background-size: cover;
      height: 100%;
      overflow: hidden;

    }
  </style>
</head>


<body>

  <h1> <br> The Land Of Eden: <br> The Land Of A Billion Minds <br> <br> </br>

    </div>
    <form autocomplete="off">
      <div>
        <input type="text" id="input" placeholder="What would make the world a perfect place?" />

      </div>
      <div id="entry">
      </div>
        <ul class="list"></ul>
      <div id=buttons> </div>


    </form>

    <div id= "buttons">
    <button id ="topanswers" type="button"> Top Answers</button> <br>

    <button id ="viewall" type="button"> View All</button>
</div>

    <script>
      let answers = [ //I will be adding more data as I go. (currently asking people for answers)
        "no racism",
        "no antisemitism",
        "no violence",
        "no animal abuse",
        "no animal abuse",
        "no discrimination",
        "no war",
        "no hate crime",
        "no more covid",
        "no more homeless people",
        "no guns",
        "no diseases",
        "no terrorism",
        "no drugs",

        "more green spaces",
        "more green spaces",
        "more handicap access",
        "more doctors",
        "more Indigenous awareness",
        "more resources for mental health",
        "more diversity",

        "less taxes",
        "less poverty",
        "less pollution",
        "less divorces",
        "less unemployment rate",


        "better health care system",
        "better education",
        "better rights",


        "gender equality",
        "renewable source energy",
        "vegan living",
        "sustainable living",
        "higher minimum wage",
        "a safer environment",
        "peace",
        "freedom",

      ];


      let sortedAnswers = answers.sort();
      let input = document.getElementById("input");


      //Execute function on keyup
      input.addEventListener("keyup", (e) => {
        //loop through above array
        //Initially remove all elements (so if user erases a letter or adds new letter then clean previous outputs)
        removeElements();
        for (let i of sortedAnswers) {
          //convert input to lowercase and compare with each string

          if (
            i.toLowerCase().startsWith(input.value.toLowerCase()) &&
            input.value != ""
          ) {
            //create list element
            let listItem = document.createElement("li");
            listItem.classList.add("list-items");
            listItem.style.cursor = "pointer";
            listItem.setAttribute("onclick", "displayAnswers('" + i + "')");

            //Display matched part in bold
            let word = "<b>" + i.substr(0, input.value.length) + "</b>";
            word += i.substr(input.value.length);
            //display the value in array
            listItem.innerHTML = word;
            document.querySelector(".list").appendChild(listItem);
          }
        }
      });

      function displayAnswers(value) {
        input.value = value;

        var posY=Math.floor(Math.random() *800) + 1;
        var posX=Math.floor(Math.random() *800) + 1;
        const box = document.createElement("div");
        box.id = 'entry' + Date.now();
        //box.id = "box";
        box.innerHTML=value;
        box.classList.add('entry');

        box.setAttribute('style','top:'+posX+'px; bottom:'+posY+'px;');
        document.getElementById('entry').appendChild(box);
        //document.getElementById('entry').innerHTML = document.getElementById('entry').innerHTML + value + "<br>";
        document.getElementById('input').value = '';

        removeElements();
      }

      function removeElements() {
        //clear all the item
        let items = document.querySelectorAll(".list-items");
        items.forEach((item) => {
          item.remove();
        });
      }




    </script>
</body>

</html>
