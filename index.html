<!DOCTYPE html>
<html lang="en">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The land of Eden</title>
  <!-- Stylesheet -->
  <link rel="stylesheet" href="style.css" />
  <!--Scripts-->
  <script src="script.js"></script>
  <script src="https://code.jquery.com/jquery-3.5.0.js"></script>


  <style>
    body {
      background-image: url('images/background.jpg');
      background-size: cover;
      background-repeat: no-repeat;
    }
  </style>
</head>


<body>

  <h1> The Land Of Eden: <br> The Land Of A Billion Minds <br>
    <form autocomplete="off">
      <div>
        <input type="text" id="input" placeholder="What would make the place a perfect world?" />
      </div>
      <div id="entry">
      </div>
      <ul class="list"></ul>
    </form>

    <script>
      let answers = [ //I will be adding more data as I go. (currently asking people for answers)
        "no racism",
        "no antisemitism",
        "no violence",
        "renewable source energy",
        "more green spaces",
        "gender equality",
        "no animal abuse",
        "vegan living",
        "no discrimination",
        "no war",
        "no hate crime",
        "sustainable living",
        "more handicap access",
      ];


      let sortedAnswers = answers.sort();
      let input = document.getElementById("input");


      //Execute function on keyup
      input.addEventListener("keyup", (e) => {
        //loop through above array
        //Initially remove all elements (so if user erases a letter or adds new letter then clean previous outputs)
        removeElements();
        for (let i of sortedAnswers) {
          //convert input to lowercase and compare with each string

          if (
            i.toLowerCase().startsWith(input.value.toLowerCase()) &&
            input.value != ""
          ) {
            //create list element
            let listItem = document.createElement("li");
            listItem.classList.add("list-items");
            listItem.style.cursor = "pointer";
            listItem.setAttribute("onclick", "displayAnswers('" + i + "')");

            //Display matched part in bold
            let word = "<b>" + i.substr(0, input.value.length) + "</b>";
            word += i.substr(input.value.length);
            //display the value in array
            listItem.innerHTML = word;
            document.querySelector(".list").appendChild(listItem);
          }
        }
      });

      function displayAnswers(value) {
        input.value = value;

        document.getElementById('entry').innerHTML = document.getElementById('entry').innerHTML + value + "<br>";
        document.getElementById('input').value = '';

        removeElements();
      }

      function removeElements() {
        //clear all the item
        let items = document.querySelectorAll(".list-items");
        items.forEach((item) => {
          item.remove();
        });
      }
    </script>
</body>

</html>
